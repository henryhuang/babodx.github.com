<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Linux | 鑫的方向]]></title>
  <link href="http://babodx.github.com/blog/categories/linux/atom.xml" rel="self"/>
  <link href="http://babodx.github.com/"/>
  <updated>2013-02-27T10:07:49+08:00</updated>
  <id>http://babodx.github.com/</id>
  <author>
    <name><![CDATA[babodx]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[ubuntu8.04 玩魔兽世界 2.4.3(8606)]]></title>
    <link href="http://babodx.github.com/blog/2009/12/21/wow-on-ubuntu-linux/"/>
    <updated>2009-12-21T00:00:00+08:00</updated>
    <id>http://babodx.github.com/blog/2009/12/21/wow-on-ubuntu-linux</id>
    <content type="html"><![CDATA[<p>最近一直在用ubuntu 8.04当桌面系统。已经很少用windows了。随着采用ubuntu也就一直没有玩魔兽世界了。</p>

<p>今天将Windows下的WOW目录直接拷贝到了ubuntu下面。我的wine是用sudo apt-get install默认安装的，没有特殊设置。</p>

<p>将wow目录拷贝到了用户目录的 .wine/drive_c/Program Files目录下。然后直接双击wow.exe运行。</p>

<p>这个时候会提示如下画面的错误。</p>

<p><img src="http://farm9.staticflickr.com/8519/8512093598_321828a3ef.jpg" alt="wow报错" /></p>

<p>这个不要紧，我们在启动的时候加入-opengl 参数就可以解决。</p>

<p>下面这个是成功启动的命令和截图</p>

<p><code>wine .wine/drive_c/Program\ Files/World\ of\ Warcraft/Wow.exe -opengl -nosound</code></p>

<p><img src="http://farm9.staticflickr.com/8098/8510986535_97c4797180_z.jpg" alt="ubuntu运行wow" /></p>

<p>已经成功启动了，感觉还不错。这个是在我IBM R61的笔记本上运行结果。</p>

<p>下面进入游戏看看速度</p>

<p><img src="http://farm9.staticflickr.com/8376/8512101836_cf8ce35689_z.jpg" alt="IBM R61 wow速度" /></p>

<p>开始的时候，我的运行速度不行。只有可怜的35帧每秒。</p>

<p>在我关闭了所有特效后，速度到了惊人的100帧每秒。。。这个速度完全可以正常游戏了。</p>

<p>再看看我桌面右侧的状态cpu 53%占用 内存709.88MB 感觉还可以吧。</p>

<p>虽然已经AFK了，但是ubuntu能玩魔兽世界，还是让我很开心的。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[ubuntu 8.10下同步wm6.1手机]]></title>
    <link href="http://babodx.github.com/blog/2009/12/21/winphone-SynceWithUbuntu/"/>
    <updated>2009-12-21T00:00:00+08:00</updated>
    <id>http://babodx.github.com/blog/2009/12/21/winphone-SynceWithUbuntu</id>
    <content type="html"><![CDATA[<p>参考了</p>

<ul>
<li><a href="http://www.synce.org/moin/SynceWithUbuntu">http://www.synce.org/moin/SynceWithUbuntu</a></li>
<li>http://hi.baidu.com/john_zhy/blog/item/50e39f317240141febc4af5a.html</li>
</ul>


<p>我的本本 IBM R61</p>

<p>系统 ubuntu 8.10从 8.04升级上来的。</p>

<p>手机 eten X800 wm6.1英文系统</p>

<p>原来一直不能在ubuntu下面同步手机资料，昨天参考了上面两个帖子，最后成功了。</p>

<p>1、首先添加源</p>

<p><code>
sudo gedit   /etc/apt/sources.list
</code></p>

<p>在末尾添加</p>

<p>```
deb <a href="http://ppa.launchpad.net/synce/ubuntu" target="_blank">http://ppa.launchpad.net/synce/ubuntu</a> hardy main</p>

<p>deb-src <a href="http://ppa.launchpad.net/synce/ubuntu" target="_blank">http://ppa.launchpad.net/synce/ubuntu</a> hardy main
```</p>

<p>保存，关闭</p>

<p><code>
sudo apt-get update
</code></p>

<p>我没有更新源，但是也成功。可能是8.10的缘故</p>

<p>2、更新usb驱动（仅内核在2.6.24-19之前的，如果比这个新请跳过本步骤）</p>

<p><code>
sudo rmmod rndis_host cdc_ether usbnet
sudo rm /lib/modules/`uname -r`/kernel/drivers/net/usb/{rndis_host,cdc_ether,usbnet}.ko
sudo apt-get install usb-rndis-source cdbs
sudo module-assistant auto-install usb-rndis
sudo apt-get install synce-hal librra0-tools librapi2-tools
</code></p>

<p>因为我的内核是2.6.27-7的，所以跳过了这步。但是我安装了后面的软件包</p>

<p><code>
sudo apt-get install synce-hal librra0-tools librapi2-tools
</code></p>

<p>3、安装<strong>SynCE-GNOME</strong></p>

<p><code>
sudo apt-get install python-setuptools
</code></p>

<p> 下载<a href="http://downloads.sourceforge.net/synce/synce-gnome-0.11.tar.gz">synce-gnome-0.11.tar.gz</a></p>

<p> 解压，在终端进入其目录，运行</p>

<p><code>
python setup.py build
sudo python setup.py install
</code></p>

<p>安装<strong>notification-daemon</strong>（如果没有安装过的话，用新得立软件包管理器搜索一下就可以了）</p>

<p>这个步骤完全做了一次，notification-daemon系统已经安装过了</p>

<p>4、连接好手机，运行</p>

<p><code>
/sbin/ifconfig -a | grep 80:00:60:0f:e8:00   | cut -d " " -f 1
</code></p>

<p>记下他输出的东西</p>

<p><code>
sudo gedit   /etc/network/interfaces
</code></p>

<p>在末尾添加<code>iface &lt;rndis0&gt; inet dhcp</code></p>

<p>ps:"&lt;>"里面的是我在上面那步里输出的，你应该更换成你自己的，不带“&lt;>“ 保存并关闭，然后运行</p>

<p><code>
sudo /etc/init.d/networking restart
</code></p>

<p>这次也是按照作的，我的网卡是多出来一个eth1(这个根据自己系统决定)。所以我在interfaces文件后面加入了</p>

<p><code>
iface eth1 inet dhcp
</code></p>

<p>5、安装OpenSync</p>

<p><code>
sudo apt-get install multisync-tools opensync-plugin-evolution opensync-plugin-synce
</code></p>

<p>6、现在该安装的都安装好了，就可以开始同步了<code>synce-sync-engine</code>如果出现如下错误</p>

<p>```
File "/usr/bin/sync-engine", line 84, in <module></p>

<p> configObj = Config.Config(progopts)</p>

<p>   File "/usr/lib/python2.5/site-packages/SyncEngine/config.py", line 292, in <strong>init</strong></p>

<p> oldconf = os.path.join(self.path,"config.xml")</p>

<p>AttributeError: Config instance has no attribute 'path'</p>

<p>```</p>

<p>请下载<a href="http://synce.svn.sf.net/svnroot/synce/releases/0.11.1/sync-engine/config/config.xml">config.xml</a>，保存为~/.synce/config.xml（提示："~"为自己的家目录)</p>

<p>创建同步项目<strong>synce-create-partnership "Linux desktop" "Contacts,Calendar"</strong></p>

<p>ps：还有别的，可自行选择Contacts， Calendar， Tasks， Files 等</p>

<p>创建OpenSync group</p>

<p>```
msynctool --addgroup synce-sync</p>

<p>msynctool --addmember synce-sync synce-opensync-plugin</p>

<p>msynctool --addmember synce-sync evo2-sync
```</p>

<p>然后同步synce-sync-engine</p>

<p><code>
msynctool --sync synce-sync
</code></p>

<p>他会同步到evolution里面</p>

<p>我上面的照着做，全部成功了。</p>

<p><strong>我的一些问题</strong></p>

<p>据说安装了synce-gnomevfs后，可以在Nautilus里面看手机里的内容，但是我没有成功
目前只能通过synce-pls、synce-pcp等命令，来操作手机里面文件。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[试用ubuntu 8.04和LVM动态增加分区]]></title>
    <link href="http://babodx.github.com/blog/2009/12/21/ubuntu-dynamic-resize-lvm/"/>
    <updated>2009-12-21T00:00:00+08:00</updated>
    <id>http://babodx.github.com/blog/2009/12/21/ubuntu-dynamic-resize-lvm</id>
    <content type="html"><![CDATA[<p>我在虚拟机VMware里面安装了ubuntu 8.04.</p>

<p>安装的时候，只是选择了openssh这个服务。安装后感觉系统很干净</p>

<p><strong>磁盘占用</strong>
<code>
/dev/mapper/ubuntu-root                      5.6G 321M 5.3G   6% /
</code></p>

<p>系统就用了不到400M</p>

<p><strong>内存</strong></p>

<p><code>
                   total       used       free     shared    buffers     cached
Mem:           249         39        209          0          3         16
</code>
减掉buffers和cached的内容，还有我ssh远程连接的占用。实际系统启动后内存也就需要17M</p>

<p><strong>LVM</strong></p>

<p>安装系统的时候，我就选择了整个磁盘启用LVM，采用ubuntu默认分区的方式。</p>

<p>ubuntu默认分了2个区/sda1和/sda5。sda1用来做/boot，sda5用来做LVM。文件系统都是默认的ext3。</p>

<p>然后在LVM里面默认建立了2个LV( Logical volume)，一个/dev/ubuntu/root用来做/ ，一个/dev/ubuntu/swap_1用来做swap交换分区。我又手动修改了文件系统，采用reiserfs。</p>

<p><strong>动态添加/分区大小</strong></p>

<p>我先添加了一个硬盘，系统识别为sdb</p>

<p>对这个盘<strong>创建分区</strong>（LVM可以不用分区的，但是需要动态添加到/分区，所以需要有文件系统，不能添加后格式化/分区吧）</p>

<p><code>
sudo fdisk /dev/sdb
n --&gt;创建分区
t --&gt;修改分区类型为8e
w --&gt;保存结果
</code></p>

<p>现在系统可以识别/dev/sdb1这个设备了。</p>

<p><strong>创建PV(Physical volume)</strong></p>

<p><code>
sudo pvcreate /dev/sdb1
</code></p>

<p><strong>创建VG(Volume group)</strong></p>

<p><code>
sudo vgextend ubuntu /dev/sdb1
</code></p>

<p><strong>扩展LV(Logical volume)</strong></p>

<p><code>
sudo lvextend -L +2G /dev/ubuntu/root&lt;br&gt;
</code></p>

<p>这样就给/dev/ubuntu/root这个设备大小增加了2G。可以通过sudo lvdisply查看
但是这个时候df -h还是没有变化的，需要调整文件系统。</p>

<p><code>
sudo resize_reiserfs -s +2G /dev/ubuntu/root&lt;br&gt;
</code></p>

<p>这样就完成了全部动态扩展分区。而且是服务器一直在线状态，不用关机。</p>

<p>调整Swap</p>

<p>还是和上面一样的情景，只要VG里面还有剩余空间就可以用来扩展swap用。</p>

<p><code>
sudo swapoff -a
</code></p>

<p>关闭正在用的swap分区</p>

<p>然后</p>

<p><code>
sudo lvextend -L +200M /dev/ubuntu/swap_1
</code></p>

<p>给/dev/ubuntu/swap_1扩展了200M容量</p>

<p><code>
sudo mkswap /dev/ubuntu/swap_1
</code></p>

<p>建立swap的文件系统</p>

<p>最后</p>

<p><code>
sudo swapon -a
</code></p>

<p>启用新的swap系统。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[ubuntu server 9.04 终端乱码问题]]></title>
    <link href="http://babodx.github.com/blog/2009/12/21/ubuntu-console-unread-chinese/"/>
    <updated>2009-12-21T00:00:00+08:00</updated>
    <id>http://babodx.github.com/blog/2009/12/21/ubuntu-console-unread-chinese</id>
    <content type="html"><![CDATA[<p>安装了ubuntu server 9.04，安装的时候选择了中文环境。</p>

<p>因为server是没有桌面的，发现终端里面显示提示信息，出错信息都变成乱码了。</p>

<p><strong>解决办法</strong>
修改/etc/default/locale文件</p>

<p>将zh_CN修改为en_US</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[ubuntu server 9.04显示中文文件]]></title>
    <link href="http://babodx.github.com/blog/2009/12/21/ubuntu-904-show-chinese-filename/"/>
    <updated>2009-12-21T00:00:00+08:00</updated>
    <id>http://babodx.github.com/blog/2009/12/21/ubuntu-904-show-chinese-filename</id>
    <content type="html"><![CDATA[<p>前面提到了用VMware的share folder功能，可以将主机系统的一个目录，自动共享到ubuntu /mnt/hgfs目录下。</p>

<p>但是winxp的中文目录，到了ubuntu server下面就显示乱码了。</p>

<p><strong>解决办法</strong></p>

<p>安装相关软件包</p>

<p><code>
sudo apt-get install language-pack-zh
</code></p>

<p><strong>配置中文环境</strong></p>

<p>修改/etc/environment</p>

<p><code>
sudo vim /etc/environment
</code></p>

<p>将LANG和LANGUAGE内容修改为下面的</p>

<p><code>
LANG=zh_CN.UTF8&lt;br&gt;
LANGUAGE="zh_CN:zh:en_US:en
</code></p>

<p>修改/etc/default/locale</p>

<p><code>
sudo vim /etc/default/locale
</code>
修改内容如下</p>

<p><code>
LANG="zh_CN.UTF-8"&lt;br&gt;
LANGUAGE="zh_CN:zh"
</code></p>

<p>保存后，重启系统。</p>

<p>现在用putty登陆，还是发现看中文乱码。我们还要继续设置putty才可以。</p>

<p><strong>设置putty使用utf-8</strong></p>

<p>putty的Windows->Translation->Received data assumed to be in which character set:选择UTF-8</p>

<p><img src="http://farm9.staticflickr.com/8236/8512011412_e138d2c072.jpg" alt="putty使用utf8设置" /></p>

<p>这样设置后，就可以正确在putty里显示中文了。</p>

<p><img src="http://farm9.staticflickr.com/8514/8510902673_84be6e3e30.jpg" alt="putty显示中文文件名" /></p>

<p>以上这些就可以正常在putty里显示中文了。但是如果你用键盘鼠标从本地登陆ubuntu server，会发现，ubuntu server还是乱码。</p>

<p>这个问题我查了一些文档，还是没有解决。有的说是console下的字体问题。但是/usr/share/consolefonts里的字体好像没有支持中文的。</p>

<p>还有说console fonts最多支持256这个字符。。。</p>

<p>反正最终这个问题没有解决掉。现在在linux自己的控制台里，显示还是乱码</p>

<p>建议大家如果不是特别需要，其实服务器没有必要采用中文编码的。可以正常显示中文就好了。</p>

<p>建议默认还是用en_US:UTF-8的好。</p>
]]></content>
  </entry>
  
</feed>
