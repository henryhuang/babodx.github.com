
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>鑫的方向</title>
  <meta name="author" content="babodx">

  
  <meta name="description" content="以前一直在断断续续的写Blog，开始放在百度的空间。网址http://hi.baidu.com/babodx 后来在09年7月，觉得http://hi.baidu.com/babodx空间的功能太少了，就搬家到了ttp://babodx.spaces.live.com并且注册了xinlogs. &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://babodx.github.com/blog/page/14/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="鑫的方向" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">鑫的方向</a></h1>
  
    <h2>简单就是不简单！</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:babodx.github.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/12/19/startup-xinlogs/">我的网站开通了，www.xinlogs.com.</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-12-19T00:00:00+08:00" pubdate data-updated="true">Dec 19<span>th</span>, 2009</time>
        
         | <a href="/blog/2009/12/19/startup-xinlogs/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>以前一直在断断续续的写Blog，开始放在百度的空间。网址http://hi.baidu.com/babodx</p>

<p>后来在09年7月，觉得<a href="http://hi.baidu.com/babodx">http://hi.baidu.com/babodx</a>空间的功能太少了，就搬家到了<a href="http://babodx.spaces.live.com">ttp://babodx.spaces.live.com</a>并且注册了xinlogs.com域名。后来就一直关注VPS空间，觉得这个很好，相当于自己有了一台虚拟的服务器，完全可以自己在上面配置各种服务。</p>

<p>于是在2009年12月18日，我终于决定购买了rashost.com的1款128M内存的VPS，位置在美国的洛杉矶机房。</p>

<p>价格还算便宜1个月68元。rashost的有点就是不限制流量，而且CPU采用intel至强的。速度也不错</p>

<p>我选择了CentOS 5.3系统</p>

<p><strong>CPU信息</strong></p>

<p>model name      : Intel(R) Xeon(R) CPU           X3220  @ 2.40GHz</p>

<p><strong>内存信息</strong></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>             total       used       free     shared    buffers     cached
</span><span class='line'>Mem:           128        119          8          0          9         67
</span><span class='line'>-/+ buffers/cache:         42         86
</span><span class='line'>Swap:          255          0        255</span></code></pre></td></tr></table></div></figure>


<p>我的网站采用Nginx+PHP+MySQL+Bo-Blog架设，参考了<a href="www.s135.com">http://www.s135.com/</a>上的优化方法。</p>

<p>后面剩下的工作就是如何将以前blog的文章搬家够来了。。。估计够折腾一阵子的。</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/12/19/Centos-Virtualization/">CentOS虚拟化服务的配置</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-12-19T00:00:00+08:00" pubdate data-updated="true">Dec 19<span>th</span>, 2009</time>
        
         | <a href="/blog/2009/12/19/Centos-Virtualization/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>单位到了一台sun的x4450服务器，打算开学前部署好虚拟化服务，给每位带学生实训的老师一台虚拟的windows 2003 Server. 大约需要20台虚拟服务器</p>

<h2>服务器介绍</h2>

<p><img src="http://farm9.staticflickr.com/8390/8509308054_d3488a134d_z.jpg" alt="Sun Fire X4450 Server" /></p>

<ul>
<li>硬件配置：</li>
<li>CPU: 4颗 Intel(R) Xeon(R) CPU           X7460  @ 2.66GHz   (每颗6核心，供24核心)</li>
<li>内存: 64G</li>
<li>硬盘: 8块 Vendor: HITACHI   Model: H101414SCSUN146G  Rev: SA25</li>
</ul>


<h2>虚拟方案</h2>

<p>用CentOS 5.3 64bit 作为DOM0，来管理整个虚拟化服务。然后采用hvm方式虚拟20台Windows server 2003。</p>

<h2>虚拟服务器配置：</h2>

<ul>
<li>CPU：1颗</li>
<li>内存：1G</li>
<li>硬盘：30G</li>
</ul>


<p>整体结构如下</p>

<p><img src="http://farm9.staticflickr.com/8243/8508488101_df918b53e0.jpg" alt="虚拟化整体结构" /></p>

<p>在SunFire X4450的硬件上，安装Xen虚拟化服务。所有硬件由Xen内核管理，我们的CentOS 5.3 64bit操作系统跑在Xen内核上面，负责管理以后创建的DOM1到DOMN的多个虚拟服务器。</p>

<h2>虚拟化服务的安装</h2>

<p>这个就不具体写了，可以参考我前面的blog或者http://www.howtoforge.com/paravirtualization-with-xen-on-centos-5.3-x86_64-p2</p>

<p>如果不安装图形界面，在用virt-install安装windows操作系统的时候，需要VNC服务。这样可以远程通过VNC客户端连接来安装，因为ssh的方式没有图形界面。
如果安装了图形界面的CentOS，就很容易了。直接用图形界面的虚拟机管理程序安装即可。</p>

<h2>GUESTOS的配置</h2>

<p>由于每台虚拟服务器安装后，并没有开启远程服务，所以我们还是需要通过VNC连接登入虚拟服务器。在配置好IP和远程服务后，就可以使用远程桌面登陆了。
在每台虚拟服务器的配置文件里，加入如下语句</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>vnc = 2
</span><span class='line'>vncunused = 2
</span><span class='line'>vnclisten = "10.10.15.151"
</span><span class='line'>vncpasswd = "password" </span></code></pre></td></tr></table></div></figure>


<p><strong>注意：</strong> password为登陆vnc的密码，根据实际情况设置。vnclisten设置的是主机CentOS的IP</p>

<p><strong>突破8台虚拟服务器的限制</strong></p>

<p>默认安装后，CentOS的max_loop最大值是8，这样我们默认只能启动8个虚拟服务器（不过半虚拟的linux好像不受这个影响）
我们需要修改这个参数</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>rmmod loop 
</span><span class='line'>echo "options loop max_loop=64"&gt;/etc/modprobe.d/loop 
</span><span class='line'>modprobe loop </span></code></pre></td></tr></table></div></figure>


<p>这样就可以了。</p>

<h2>配置网络</h2>

<p>我的服务器是有4块网卡 eth0、eth1、eth2、eth3</p>

<p>我打算eth0 采用10.10.15.151 ip地址，其他网卡不设置IP地址并且将/etc/sysconfig/network-scripts/下对应的脚本文件修改如下</p>

<p><code>ONBOOT=no</code></p>

<p>这样可以让系统启动后，就eth0可以用来访问。其他网卡都没有对应ip地址</p>

<p>其他网卡的作用是留给虚拟服务器用的。我们通过修改xen的配置文件，让eth0到eth1绑定到xenbr0到xenbr3上面。然后20台服务器，10台通过xenbr1访问网络，10台通过xenbr2访问
在rc.local文件里，添加</p>

<p><code>/etc/xen/scripts/new-bridge start</code></p>

<p>new-bridge是我们自己写的脚本文件，为了创建xenbr0到xenbr3。xen系统默认就创建一个xenbr0</p>

<p>new-bridge文件内容如下</p>

<p><code>vi /etc/xen/scripts/new-bridge</code></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>#!/bin/sh
</span><span class='line'># Exit if anything goes wrong.
</span><span class='line'>set -e 
</span><span class='line'># First arg is the operation.
</span><span class='line'>OP=$1
</span><span class='line'>shift 
</span><span class='line'>script=/etc/xen/scripts/network-bridge.xen 
</span><span class='line'>case ${OP} in
</span><span class='line'>start)
</span><span class='line'>          $script start vifnum=0 bridge=xenbr0 netdev=eth0
</span><span class='line'>          $script start vifnum=1 bridge=xenbr1 netdev=eth1
</span><span class='line'>          $script start vifnum=2 bridge=xenbr2 netdev=eth2
</span><span class='line'>          $script start vifnum=3 bridge=xenbr3 netdev=eth3
</span><span class='line'>#         $script start vifnum=2 bridge=xenbri netdev=dummy0
</span><span class='line'>          ;; 
</span><span class='line'>stop)
</span><span class='line'>          $script stop vifnum=0 bridge=xenbr0 netdev=eth0
</span><span class='line'>          $script stop vifnum=1 bridge=xenbr1 netdev=eth1
</span><span class='line'>          $script stop vifnum=2 bridge=xenbr2 netdev=eth2
</span><span class='line'>          $script stop vifnum=3 bridge=xenbr3 netdev=eth3
</span><span class='line'>#         $script stop vifnum=2 bridge=xenbri netdev=dummy0
</span><span class='line'>          ;; 
</span><span class='line'>status)
</span><span class='line'>          $script status vifnum=0 bridge=xenbr0 netdev=eth0
</span><span class='line'>          $script status vifnum=1 bridge=xenbr1 netdev=eth1
</span><span class='line'>          $script status vifnum=2 bridge=xenbr2 netdev=eth2
</span><span class='line'>          $script status vifnum=3 bridge=xenbr3 netdev=eth3
</span><span class='line'>#         $script status vifnum=2 bridge=xenbri netdev=dummy0
</span><span class='line'>         ;; 
</span><span class='line'>*)
</span><span class='line'>          echo 'Unknown command: ' ${OP}
</span><span class='line'>          echo 'Valid commands are: start, stop, status'
</span><span class='line'>          exit 1
</span><span class='line'>esac</span></code></pre></td></tr></table></div></figure>


<p>安装xen-shell，让用户自己管理自己的虚拟服务器</p>

<p>具体安装步骤就不写了，参考我前面的文章吧</p>

<h2>安装和使用xen-shell</h2>

<p>或者</p>

<p>http://www.xen-tools.org/software/xen-shell/install.html</p>

<p><strong>注意</strong>
安装这个，需要screen这个软件，可以通过yum install screen安装</p>

<p>再有就是需要/etc/xen/下面的虚拟机配置文件有对应的权限</p>

<p>安装后，用root用户，直接输入xen-shell看看能不能进入，如果报错，根据提示修改。</p>

<p>全部安装完成后，让我们看看20台虚拟服务器跑起来的效果</p>

<p><img src="http://farm9.staticflickr.com/8531/8509667010_2b76c157b2_z.jpg" alt="xen效果图" />
<img src="http://farm9.staticflickr.com/8088/8508563965_7d284d04c4.jpg" alt="xen效果图" />
再来看看网络的使用情况</p>

<p><img src="http://farm9.staticflickr.com/8111/8509671352_bd087337dd.jpg" alt="网络使用情况" /></p>

<p>通过上面的brctl show可以清楚的看到，虚拟服务器的网卡，都放到了xenbr1和xenbr2下面了。</p>

<p>再来看看vnc登陆的界面，注意VNC登陆后，不能直接用键盘的Ctrl+Alt+Del登陆，我们可以通过右键点窗口来选择Send Ctrl+Alt+Del来实现发送这三个按键消息。</p>

<p><img src="http://farm9.staticflickr.com/8513/8508569279_fab2c10e80_z.jpg" alt="windows图片" /></p>

<p>配置好虚拟服务器的IP和远程桌面后，我们就可以采用远程桌面连接了。</p>

<p>用户自己管理自己的服务器</p>

<p>其实有了远程桌面，用户就可以通过这个登陆服务器，重启和修改配置了。但是如果关机以后，就没有办法开机了。</p>

<p>我们安装xen-shell就能实现用户自己通过用户名和密码登陆命令行格式的界面来启动服务器。</p>

<p>首先我们要给我们每台虚拟服务器建立一个CentOS系统上的用户，让后按照Xen-shell的要求配置，这个不具体介绍了，参考</p>

<p>安装和使用xen-shell</p>

<p>或者</p>

<p>http://www.xen-tools.org/software/xen-shell/install.html</p>

<p>后用户就可以通过putty登陆到自己的虚拟服务器管理命令行了。</p>

<p>xen-shell可以让用户自己启动、重启、关闭虚拟服务器，还可以查看虚拟服务器的状态、运行时间等。
如果在用户对应目录下编写好image.sh文件，还可以让用户自己rebuild操作系统。
有了这个，基本管理员告诉用户他的xen-shell用户，虚拟服务器的ip就ok了。其他的用户自己都可以管理了。</p>

<h2>其他问题</h2>

<p>如何让guestos随主系统自动启动，这个可以参考xen文档。</p>

<p>如何克隆guestos系统，这个可以参考virt-clone</p>

<p>如何安装多个linxu guest系统，这个可以参考获取XEN guestOS的images文件</p>

<p>整个安装断断续续弄了大约2周，目前总算ok了。</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/08/02/tearcopy/">Windows下的拷贝利器teracopy</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-08-02T00:00:00+08:00" pubdate data-updated="true">Aug 2<span>nd</span>, 2009</time>
        
         | <a href="/blog/2009/08/02/tearcopy/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>周四晚上的时候，300G的硬盘在Ghost的时候，分区表损坏，导致数据全丢失了。</p>

<p>这两天在不停的拷贝数据，导文件。</p>

<p>发现windows自带的资源管理器拷贝文件的速度和稳定性都不是很好。</p>

<p>于是找到了一款很不错的小软件tearcopy</p>

<p><strong>网站</strong>
<a href="http://www.codesector.com/teracopy.php">http://www.codesector.com/teracopy.php</a></p>

<p>文件很小，大约1.5M</p>

<p>拷贝速度很快，我从usb设备拷贝，速度大约23M每秒。&lt;</p>

<p>建议拷贝多个文件或者大文件，都安装这个小软件。</p>

<p>下面是具体说明，我就不翻译，大家自己看看吧。很牛，还支持win7</p>

<p>TeraCopy is a compact program designed to copy and move files at the maximum possible speed, providing the user a lot of features: <ul>
<li>
<strong>Copy files faster.</strong> TeraCopy uses dynamically adjusted buffers to reduce seek times. Asynchronous copy speeds up file transfer between two physical hard drives. </li>
<li>
<strong>Pause and resume file transfers.</strong> Pause copy process at any time to free up system resources and continue with a single click. </li>
<li>
<strong>Error recovery.</strong> In case of copy error, TeraCopy will try several times and in the worse case just skips the file, not terminating the entire transfer. </li>
<li>
<strong>Interactive file list.</strong> TeraCopy shows failed file transfers and lets you fix the problem and recopy only problem files. </li>
<li>
<strong>Shell integration.</strong> TeraCopy can completely replace Explorer copy and move functions, allowing you work with files as usual. </li>
<li>
<strong>Full Unicode support.</strong> </li>
<li>
<strong>Windows 7 x64 support.</strong> </li>
</ul>
</div></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/07/17/blog-migrate-to-spaces-live/">从百度空间转移到spaces Live</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-07-17T00:00:00+08:00" pubdate data-updated="true">Jul 17<span>th</span>, 2009</time>
        
         | <a href="/blog/2009/07/17/blog-migrate-to-spaces-live/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>本来打算购买一个在美国的VPS，来自己架设个blog程序用的，但是老婆说我太糟蹋钱了，不让玩。</p>

<p>只好选择live spaces的25G免费空间了。为了这次转移，我写了一个小程序帮忙。</p>

<p>现在已经把原来<a href="http://hi.baidu.com/babodx">http://hi.baidu.com/babodx</a>的博客内容全部搬到了<a href="http://babodx.spaces.live.com">http://babodx.spaces.live.com/</a></p>

<p>而且还申请了一个域名玩，可以直接通过<a href="www.xinlogs.com">http://www.xinlogs.com/</a>访问</p>

<p>这次域名是在<a href="www.namecheap.com">http://www.namecheap.com/</a>直接用美元买的，据说这样比较保险。</p>

<p>国内的域名服务商信誉很差。</p>

<p><strong>转移步骤</strong></p>

<p>我的想法是先用一个程序把百度空间上，我的博客全部保存到本地。然后在用个程序把保存下来的内容发送到spaces live上，就完成了转移。</p>

<p>一、将百度空间的博客保存到本地</p>

<p>首先用程序抓取百度空间的博客内容这个程序并不完全是我自己写的，我参考了很多人的文章和程序。参考如下</p>

<p><a href="http://www.agileprogrammer.com/dotnetguy/articles/BlogImporterInRuby.aspx">Blog Importer in Ruby</a></p>

<p><a href="http://crafterm.net/blog/articles/2006/09/22/blog-content-migration-from-movabletype-to-typo-using-xml-rpc">Blog content migration from MovableType to Typo using XML-RPC</a></p>

<p><a href="http://cxc200026.blog.163.com/blog/static/342686720092895235567/">lsblog改进版本</a></p>

<p>根据前人的经验，我写了一个程序，根据用户名抓取百度空间的博客，然后保存为用户名.xml文件文件格式如下</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;baidu_space total="70" id="babodx" pagecnt="7"&gt;
</span><span class='line'>
</span><span class='line'> &lt;page blogcnt="10" index="0"&gt;
</span><span class='line'>
</span><span class='line'>   &lt;item href="http://hi.baidu.com/babodx/blog/item/fb1ebcb14ea2075d08230218.html"&gt;
</span><span class='line'>
</span><span class='line'>     &lt;date&gt;2009-07-12 00:23&lt;/date&gt;
</span><span class='line'>
</span><span class='line'>     &lt;title&gt;ubuntu server 9.04 终端乱码问题&lt;/title&gt;
</span><span class='line'>
</span><span class='line'>     &lt;category&gt;Linux&lt;/category&gt;
</span><span class='line'>
</span><span class='line'>     &lt;body&gt;&lt;p&gt;安装了ubuntu server 9.04，安装的时候选择了中文环境。&lt;/p&gt; &lt;p&gt;因为server是没有桌面的，发现终端里面显示提示信息，出错信息都变成乱码了。&lt;/p&gt; &lt;p&gt;解决办法&lt;/p&gt; &lt;p&gt;修改/etc/default/locale文件&lt;/p&gt; &lt;p&gt;将zh_CN修改为en_US&lt;/p&gt;&lt;/body&gt;
</span><span class='line'>
</span><span class='line'>    &lt;/item&gt;</span></code></pre></td></tr></table></div></figure>


<p>用ｉｔｅｍ标签来包含每个博客，用date,title,category,body分别代表发表时间、标题、分类、内容。</p>

<p>RUBY代码主要参考了lsblog的改进版。</p>

<p><a href="http://cid-4986f8f322cc617b.skydrive.live.com/self.aspx/.Public/saveblog.rb">savelog.rb</a></p>

<p>只要提供用户名，就可以将全部博客保存为ｘｍｌ文件</p>

<p>二、将本地保存的xml文件，上传到spaces live空间</p>

<p>这里遇到很多麻烦，以至最终这部分没有能用程序实现。</p>

<p>我的想法是用ruby调用metaweblog api接口来发送blog到spaces live空间</p>

<p>可以参考</p>

<p><a href="http://msdn.microsoft.com/en-us/library/bb259702.aspx">Windows Live Spaces MetaWeblog API</a></p>

<p>后来发送简单的文本已经可以实现了。但是问题出在对ｂｏｄｙ的处理，从百度空间抓过来的ｂｏｄｙ是ｈｔｍｌ代码，里面包含了文章和图片的引用。</p>

<p>如果直接用ＭｅｔａＷｅｂｌｏｇ　ＡＰＩ发送，这些ｈｔｍｌ就直接显示在ｂｌｏｇ上面了，而不是应该有的格式。</p>

<p>我查看了一些文档，也没有找到解决办法，因而只要放弃了。</p>

<p>后来是手动通过live writer把本地的blog.xml发送到live spaces空间的。那个累呀。。。。</p>

<p><strong>待解决问题</strong></p>

<p>一是如何让程序自动发送html格式的blog内容到live spaces空间。</p>

<p>二是如何处理博客里面的图片，原来图片都是放在百度空间的，如果在live spaces引用，会出现错误。</p>

<p>ruby可以直接从百度抓图片，问题还是如何上传到live spaces</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2007/12/14/vista-wireless-problem/">Vista 不能自动发现无线网络的问题解决方法</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2007-12-14T00:00:00+08:00" pubdate data-updated="true">Dec 14<span>th</span>, 2007</time>
        
         | <a href="/blog/2007/12/14/vista-wireless-problem/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>vista 查询无线网路需要设置成和无线路由器匹配的无线标准。否则会不能自己发现无线设备。</p>

<p>具体办法如下，从intel.com找来的在 Windows Vista* 上设置互联网安全无线连接参考
<a href="http://support.intel.com/support/cn/wireless/wlan/sb/CS-025389.htm">http://support.intel.com/support/cn/wireless/wlan/sb/CS-025389.htm</a></p>

<p>在 Windows Vista* 上配置无线网卡设置</p>

<p>Windows Vista* 提供多种访问高级网卡设置的方法。</p>

<p>开始 » 控制面板 » 系统与维护 » 系统 » 设备管理器 » 展开右窗格中的网络适配器 » 高亮显示并右键单击无线网卡 » 属性 »“高级”选项卡</p>

<p>右键单击桌面上的“我的电脑”图标 » 单击“管理”» 高亮显示“设备管理器”» 展开右窗格中的网络适配器”» 高亮显示并右键单击无线网卡 » 属性 »“高级”选项卡</p>

<p>开始 » 控制面板 » 网络与互联网 » 网络与共享中心 » 管理无线网络 » 适配器属性 » 配置 »“高级”选项卡</p>

<p>开始 » 网络 » 网络与共享中心 » 管理无线网络 » 适配器属性 » 配置 »“高级”选项卡</p>

<p>右键单击“系统托盘”图标（屏幕右下角的 2 个计算机显示器图像）» 网络与共享中心 » 管理无线网络 » 适配器属性 » 配置 »“高级”选项卡</p>

<p>802.11n 信道宽度：缺省值是自动（20 或 40 MHz，根据网卡连接的是无线接入点（AP）还是路由器而定）。 用户也可以将其更改为“仅 20 MHz”。 注： 仅英特尔® 无线 WiFi 链接 4965AGN 提供此功能。</p>

<p>802.11n 模式： 启用缺省值。 如果选择“禁用”将仅使用数据传输速率很低的 802.11b/g。 如果用户知道周围没有 802.11n 接入点或路由器，则可以禁用此模式。 注： 仅英特尔® 无线 WiFi 链接 4965AGN 提供此功能。</p>

<p>Ad Hoc 信道 802.11 b/g： 缺省信道是 11。可以在使用这些频率的国家配置信道 1-11。 在其它地区可配置 1-13 或 1-14。请根据适配器 SKU 进行选择。</p>

<p>Ad Hoc 缺省无线模式： 缺省值是 802.11b/g。也可选择 802.11a。 Ad Hoc 网络（对等网络）是用户在不使用接入点或路由器的情况下为直接相互连接各个网络而创建的临时无线网络。</p>

<p>Ad Hoc 电源管理：缺省值是“禁用”。 仅使用电池电源时，用户还可以选择“最大节能”。 如果用户位于“嘈杂的”射频环境中，要求适配器始终保持在唤醒状态，则可使用“噪音环境”。 只有连接电源插座时才能使用这种设置。</p>

<p>Ad Hoc QoS 模式： 缺省值是禁用 WMM；在接入点或路由器提供支持并且计算机应用程序可实现该功能时用户才能启用它。 WMM<em>（Wi-Fi 多媒体）是根据服务质量标准 IEEE</em> 802.11e* 创建的一种方法，它按优先顺序排列各种传输类型以提高总体质量： 声音、视频、音频和数据。</p>

<p>混合模式保护： 缺省值是 CTS-to-self Enabled。 备用值是 CTS/RTS Enabled。 用于在 802.11b/802.11g 混合环境中避免发生数据冲突。 CTS-to-Self 可用于在客户机相距距离较近并可相互临听的环境中提高传输量。 RTS/CTS 在客户机不能进行相互临听的区域里使用。</p>

<p>漫游积极程度： 缺省值是“中等”： 不漫游和漫游之间的平衡设置。 您也可以选择“最低”、“中下”、“中上”和“最高”。 此设置允许您定义无线客户机漫游的积极程度，以提高连接接入点或路由器的能力。 最低： 您的无线客户机不会漫游到其它接入点或路由器。 只有当链接质量严重下降时，才会漫游到其它接入点。</p>

<p>提高传输量：缺省值是“禁用”。 启用该值时可通过启用包突发功能提高传输量。 在相对安静的家庭或小型办公室设置中，可能最不需要启用这种功能。</p>

<p>传输功率： 缺省值是“最高”。 降低传输功率后会降低无线电覆盖范围。 您也可以选择“最低”、“中下”、“中等”和“中上”。</p>

<p>无线模式： 对于英特尔无线 WiFi 链接 4965AGN，缺省值是 802.11a/b/g。 是使用缺省值还是其它值取决于系统配备的适配器。 选择接入无线网络所使用的波段。 无线模式（调制类型）决定了网卡范围内可发现的接入点或路由器。</p>

<p>操作系统：</p>

<p>Windows Vista Starter，32 位版本、Windows Vista Home Basic，32 位版本、Windows Vista Home Premium，32 位版本、Windows Vista Business，32 位版本、Windows Vista Enterprise，32 位版本、Windows Vista Ultimate，32 位版本、Windows Vista Home Basic，64 位版本、Windows Vista Home Premium，64 位版本、Windows Vista Business，64 位版本、Windows Vista Enterprise，64 位版本、Windows Vista Ultimate，64 位版本</p>

<p>适用于：</p>

<ul>
<li>英特尔® PRO/无线 3945ABG 网卡</li>
<li>英特尔® PRO/无线 2100 网卡</li>
<li>英特尔® PRO/无线 2200BG 网卡  英特尔® PRO/无线 2915ABG 网卡</li>
<li>英特尔® 无线 WiFi 链接 4965AGN</li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2007/04/27/vista-slow/">Vista 太慢了，决定放弃使用她的念头了</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2007-04-27T00:00:00+08:00" pubdate data-updated="true">Apr 27<span>th</span>, 2007</time>
        
         | <a href="/blog/2007/04/27/vista-slow/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>居然1G内存酷睿双核处理器使用起来还是会很慢不知道是我没有优化，或者配置的不对？还是本来就不快？总之放弃了，还是用winxp了，以后成熟些再说</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2007/04/19/resolve-explorer-cpu-occupancy-reate/">解决explorer Cpu占用率高的一些办法</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2007-04-19T00:00:00+08:00" pubdate data-updated="true">Apr 19<span>th</span>, 2007</time>
        
         | <a href="/blog/2007/04/19/resolve-explorer-cpu-occupancy-reate/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>1 将zipfldr.dll注销掉</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>regsvr32 c:\windows\system32\zipfldr.dll /u
</span></code></pre></td></tr></table></div></figure>


<p>2 关闭avi预览</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>regsvr32 shmedia.dll /u</span></code></pre></td></tr></table></div></figure>


<p>经过上面两步，应该可以减少explorer的cup占用率了。</p>

<p>以后如果需要用上面的功能，再按照下面步骤打开</p>

<p><strong>恢复上面功能</strong></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>regsvr32 c:\windows\system32\zipfldr.dll
</span><span class='line'>regsvr32 shmedia.dll</span></code></pre></td></tr></table></div></figure>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2007/04/12/netcraft/">www.netcraft.com可以检测网站运行的操作系统和Web Server</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2007-04-12T00:00:00+08:00" pubdate data-updated="true">Apr 12<span>th</span>, 2007</time>
        
         | <a href="/blog/2007/04/12/netcraft/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="http://www.netcraft.com">http://www.netcraft.com/</a>
可以通过</p>

<p><strong>What&#8217;s that site running?</strong></p>

<p>查询一个网站的服务器使用的什么操作系统,Web服务器用的什么软件..
感觉很不错</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/13/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
<h1>Categories</h1>
<ul id="categories">
  <li class='category'><a href='/blog/categories/css/'>CSS (2)</a></li>
<li class='category'><a href='/blog/categories/cloudstack/'>Cloudstack (1)</a></li>
<li class='category'><a href='/blog/categories/database/'>Database (10)</a></li>
<li class='category'><a href='/blog/categories/game/'>Game (15)</a></li>
<li class='category'><a href='/blog/categories/hardware/'>Hardware (9)</a></li>
<li class='category'><a href='/blog/categories/host/'>Host (3)</a></li>
<li class='category'><a href='/blog/categories/java/'>Java (3)</a></li>
<li class='category'><a href='/blog/categories/life/'>Life (3)</a></li>
<li class='category'><a href='/blog/categories/linux/'>Linux (50)</a></li>
<li class='category'><a href='/blog/categories/mac/'>Mac (5)</a></li>
<li class='category'><a href='/blog/categories/mobile/'>Mobile (8)</a></li>
<li class='category'><a href='/blog/categories/octopress/'>Octopress (2)</a></li>
<li class='category'><a href='/blog/categories/php/'>PHP (14)</a></li>
<li class='category'><a href='/blog/categories/plan/'>Plan (1)</a></li>
<li class='category'><a href='/blog/categories/rails/'>Rails (5)</a></li>
<li class='category'><a href='/blog/categories/ruby/'>Ruby (2)</a></li>
<li class='category'><a href='/blog/categories/software/'>Software (7)</a></li>
<li class='category'><a href='/blog/categories/vim/'>Vim (1)</a></li>
<li class='category'><a href='/blog/categories/virtualization/'>Virtualization (9)</a></li>
<li class='category'><a href='/blog/categories/website/'>Website (4)</a></li>
<li class='category'><a href='/blog/categories/windows/'>Windows (10)</a></li>
<li class='category'><a href='/blog/categories/git/'>git (1)</a></li>
<li class='category'><a href='/blog/categories/vim/'>vim (1)</a></li>

</ul>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/03/03/kuai-su-pei-zhi-vimhe-macvim/">快速配置vim和macvim</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/02/28/emlogqian-yi-dao-octopress/">emlog迁移到octopress</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/02/24/git-first-on-ubuntu/">git-first-on-ubuntu</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/02/20/wo-2013nian-xue-xi-lie-biao/">我2013年学习列表</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/02/13/kai-shi-shi-yong-octopress/">开始使用octopress</a>
      </li>
    
  </ul>
</section>






  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - babodx -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'xinlogs';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
